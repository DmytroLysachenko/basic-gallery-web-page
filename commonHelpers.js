import{a as v,i as L,S as b}from"./assets/vendor-6e0bf343.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&r(n)}).observe(document,{childList:!0,subtree:!0});function t(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(e){if(e.ep)return;e.ep=!0;const o=t(e);fetch(e.href,o)}})();const w="43312748-d2770da7ff63c643db495a6a3",x=async(a,s)=>{try{return(await v.get("https://pixabay.com/api/",{params:{key:w,q:a,image_type:"photo",orientation:"horizontal",safesearch:!0,page:s,per_page:15}})).data}catch(t){console.log(t)}},S=()=>{const a=document.createElement("form");a.classList.add("search-form");const s=document.createElement("input");s.type="text",s.classList.add("search-input"),s.placeholder="Search images...";const t=document.createElement("button");t.type="submit",t.classList.add("search-button"),t.textContent="Search";const r=document.createElement("button");r.textContent="Load more",r.classList.add("search-button"),r.classList.add("next-button"),r.classList.add("is-hidden"),r.type="button";const e=document.createElement("ul");e.classList.add("gallery-list"),a.append(s,t),document.body.prepend(a,e,r)},E=a=>a.map(t=>{const r=document.createElement("li");r.classList.add("gallery-item");const e=document.createElement("a");e.classList.add("gallery-link"),e.href=t.largeImageURL;const o=document.createElement("img");o.classList.add("gallery-image"),o.src=t.webformatURL,o.alt=t.tags,o.width="360";const n={Likes:t.likes,Views:t.views,Comments:t.comments,Downloads:t.downloads},m=document.createElement("ul");m.classList.add("gallery-desc-list");for(let y in n){const p=document.createElement("li");p.classList.add("gallery-desc-item");const g=document.createElement("p");g.classList.add("gallery-desc-ttl"),g.textContent=y;const h=document.createElement("p");h.classList.add("gallery-desc-text"),h.textContent=n[y],p.append(g,h),m.append(p)}return e.append(o),r.append(e,m),r});S();const q=document.querySelector(".search-form"),k=document.querySelector(".search-input"),u=document.querySelector(".gallery-list"),c=document.querySelector(".loader"),l=document.querySelector(".next-button");let d,f,i;q.addEventListener("submit",async a=>{try{if(u.innerHTML="",l.classList.add("is-hidden"),i=1,a.preventDefault(),d=k.value.trim(),a.target.reset(),d===""){L.show({title:"Error",message:"Invalid search request value",backgroundColor:"red",theme:"dark",color:"red",position:"topRight"});return}c.classList.add("is-loading");const{hits:s,totalHits:t}=await x(d,i);if(f=t,s.length===0){L.show({title:"Error",message:"Unfortunately no pictures found by your request :(",backgroundColor:"red",theme:"dark",color:"red",position:"topRight"}),c.classList.remove("is-loading");return}const r=E(s);u.append(...r),c.classList.remove("is-loading"),f/15>1&&l.classList.remove("is-hidden"),new b(".gallery-link",{captionDelay:250,captionsData:"alt"}).refresh()}catch(s){console.log(s)}});l.addEventListener("click",async a=>{try{l.classList.add("is-hidden"),c.classList.add("is-loading"),i+=1;const{hits:s}=await x(d,i),t=E(s);u.append(...t),i<Math.ceil(f/15)&&l.classList.remove("is-hidden"),c.classList.remove("is-loading"),new b(".gallery-link",{captionDelay:250,captionsData:"alt"}).refresh()}catch(s){console.log(s)}});u.addEventListener("click",a=>{a.preventDefault()});
//# sourceMappingURL=commonHelpers.js.map
