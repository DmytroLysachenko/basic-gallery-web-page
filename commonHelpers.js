import{a as w,i as L,S as b}from"./assets/vendor-6e0bf343.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(e){if(e.ep)return;e.ep=!0;const o=t(e);fetch(e.href,o)}})();const S="43312748-d2770da7ff63c643db495a6a3",x=async(n,s)=>{try{return(await w.get("https://pixabay.com/api/",{params:{key:S,q:n,image_type:"photo",orientation:"horizontal",safesearch:!0,page:s,per_page:15}})).data}catch(t){console.log(t)}},k=()=>{const n=document.createElement("form");n.classList.add("search-form");const s=document.createElement("input");s.type="text",s.classList.add("search-input"),s.placeholder="Search images...";const t=document.createElement("button");t.type="submit",t.classList.add("search-button"),t.textContent="Search";const r=document.createElement("button");r.textContent="Load more",r.classList.add("search-button"),r.classList.add("next-button"),r.classList.add("is-hidden"),r.type="button";const e=document.createElement("ul");e.classList.add("gallery-list"),n.append(s,t),document.body.prepend(n,e,r)},E=n=>n.map(t=>{const r=document.createElement("li");r.classList.add("gallery-item");const e=document.createElement("a");e.classList.add("gallery-link"),e.href=t.largeImageURL;const o=document.createElement("img");o.classList.add("gallery-image"),o.src=t.webformatURL,o.alt=t.tags,o.width="360";const a={Likes:t.likes,Views:t.views,Comments:t.comments,Downloads:t.downloads},p=document.createElement("ul");p.classList.add("gallery-desc-list");for(let y in a){const g=document.createElement("li");g.classList.add("gallery-desc-item");const h=document.createElement("p");h.classList.add("gallery-desc-ttl"),h.textContent=y;const f=document.createElement("p");f.classList.add("gallery-desc-text"),f.textContent=a[y],g.append(h,f),p.append(g)}return e.append(o),r.append(e,p),r});k();const q=document.querySelector(".search-form"),C=document.querySelector(".search-input"),u=document.querySelector(".gallery-list"),i=document.querySelector(".loader"),l=document.querySelector(".next-button");let d,m,c;q.addEventListener("submit",async n=>{try{if(u.innerHTML="",l.classList.add("is-hidden"),c=1,n.preventDefault(),d=C.value.trim(),n.target.reset(),d===""){L.show({title:"Error",message:"Invalid search request value",backgroundColor:"red",theme:"dark",color:"red",position:"topRight"});return}i.classList.add("is-loading");const{hits:s,totalHits:t}=await x(d,c);if(m=t,s.length===0){L.show({title:"Error",message:"Unfortunately no pictures found by your request :(",backgroundColor:"red",theme:"dark",color:"red",position:"topRight"}),i.classList.remove("is-loading");return}const r=E(s);u.append(...r),i.classList.remove("is-loading"),m/15>1&&l.classList.remove("is-hidden"),new b(".gallery-link",{captionDelay:250,captionsData:"alt"}).refresh()}catch(s){console.log(s)}});const v=async n=>{try{l.classList.add("is-hidden"),i.classList.add("is-loading"),c+=1;const{hits:s}=await x(d,c),t=E(s);u.append(...t),c<Math.ceil(m/15)&&l.classList.remove("is-hidden"),i.classList.remove("is-loading"),new b(".gallery-link",{captionDelay:250,captionsData:"alt"}).refresh(),c===Math.ceil(m/15)&&l.removeEventListener("click",v)}catch(s){console.log(s)}};l.addEventListener("click",v);u.addEventListener("click",n=>{n.preventDefault()});
//# sourceMappingURL=commonHelpers.js.map
