import{a as w,i as b,S as v}from"./assets/vendor-6e0bf343.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function t(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(e){if(e.ep)return;e.ep=!0;const o=t(e);fetch(e.href,o)}})();const S="43312748-d2770da7ff63c643db495a6a3",x=async(n,s)=>{try{return(await w.get("https://pixabay.com/api/",{params:{key:S,q:n,image_type:"photo",orientation:"horizontal",safesearch:!0,page:s,per_page:15}})).data}catch(t){console.log(t)}},k=()=>{const n=document.createElement("form");n.classList.add("search-form");const s=document.createElement("input");s.type="text",s.classList.add("search-input"),s.placeholder="Search images...";const t=document.createElement("button");t.type="submit",t.classList.add("search-button"),t.textContent="Search";const a=document.createElement("button");a.textContent="Load more",a.classList.add("search-button"),a.classList.add("next-button"),a.classList.add("is-hidden"),a.type="button";const e=document.createElement("ul");e.classList.add("gallery-list"),n.append(s,t),document.body.prepend(n,e,a)},E=n=>n.map(t=>{const a=document.createElement("li");a.classList.add("gallery-item");const e=document.createElement("a");e.classList.add("gallery-link"),e.href=t.largeImageURL;const o=document.createElement("img");o.classList.add("gallery-image"),o.src=t.webformatURL,o.alt=t.tags,o.width="360";const r={Likes:t.likes,Views:t.views,Comments:t.comments,Downloads:t.downloads},u=document.createElement("ul");u.classList.add("gallery-desc-list");for(let L in r){const m=document.createElement("li");m.classList.add("gallery-desc-item");const p=document.createElement("p");p.classList.add("gallery-desc-ttl"),p.textContent=L;const g=document.createElement("p");g.classList.add("gallery-desc-text"),g.textContent=r[L],m.append(p,g),u.append(m)}return e.append(o),a.append(e,u),a});k();const q=document.querySelector(".search-form"),f=document.querySelector(".search-input"),d=document.querySelector(".gallery-list"),l=document.querySelector(".loader"),c=document.querySelector(".next-button");let h,y,i;q.addEventListener("submit",async n=>{try{c.classList.add("is-hidden"),i=1,n.preventDefault(),f.value.trim()===""&&b.show({title:"Error",message:"Invalid value",backgroundColor:"red",theme:"dark",color:"red",position:"topRight"}),l.classList.add("is-loading"),h=f.value.trim(),d.innerHTML="",f.value="";const{hits:s,totalHits:t}=await x(h,i);if(y=t,s.length===0){b.show({title:"Error",message:"Unfortunately no pictures found by your request :(",backgroundColor:"red",theme:"dark",color:"red",position:"topRight"}),l.classList.remove("is-loading");return}const a=E(s);d.append(...a),l.classList.remove("is-loading"),y/15>1&&c.classList.remove("is-hidden"),new v(".gallery-link",{captionDelay:250,captionsData:"alt"}).refresh()}catch(s){console.log(s)}});c.addEventListener("click",async n=>{c.classList.add("is-hidden"),l.classList.add("is-loading"),i+=1;const{hits:s}=await x(h,i),t=E(s);d.append(...t),i<Math.ceil(y/15)&&c.classList.remove("is-hidden"),l.classList.remove("is-loading"),new v(".gallery-link",{captionDelay:250,captionsData:"alt"}).refresh()});d.addEventListener("click",n=>{n.preventDefault()});
//# sourceMappingURL=commonHelpers.js.map
